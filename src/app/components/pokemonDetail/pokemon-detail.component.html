<div class="min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950">
  <!-- Loading State -->
  @if (loading()) {
    <div class="flex items-center justify-center min-h-screen">
      <div class="text-center">
        <div class="inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500 border-opacity-75 mb-4"></div>
        <p class="text-white text-xl font-semibold">Loading Pokémon details...</p>
      </div>
    </div>
  } @else if (error()) {
    <!-- Error State -->
    <div class="px-4 py-8 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <button (click)="goBack()" class="cursor-pointer flex items-center gap-2 text-blue-400 hover:text-blue-300 transition-colors mb-8">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
          </svg>
          Back to List
        </button>
        <div class="bg-red-500/10 border border-red-500/50 rounded-xl p-6 sm:p-8 text-red-300">
          <h2 class="text-2xl font-bold mb-2">Error Loading Pokémon</h2>
          <p>{{ error() }}</p>
        </div>
      </div>
    </div>
  } @else if (pokemon()) {
    <!-- UNIFIED RESPONSIVE LAYOUT -->
    <div class="px-4 py-6 md:max-w-6xl md:mx-auto md:px-4 md:sm:px-6 md:lg:px-8 md:py-8">
      <!-- Breadcrumb Navigation -->
      <button (click)="goBack()" class="cursor-pointer flex items-center gap-2 text-blue-400 hover:text-blue-300 transition-colors mb-6 md:mb-8">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
        Back to List
      </button>

      <!-- Header Section -->
      <div class="bg-gradient-to-r from-blue-600/20 to-purple-600/20 border border-blue-500/30 rounded-xl md:rounded-2xl p-4 md:p-8 mb-6 md:mb-8">
        <div class="flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6">
          <div class="flex-1">
            <p class="text-blue-400 text-xs md:text-sm font-semibold uppercase tracking-wider">Pokémon Details</p>
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white capitalize mt-2">{{ pokemon()!.name }}</h1>
            <p class="text-slate-300 text-base md:text-lg mt-2">ID: <span class="text-blue-400 font-semibold">#{{ pokemon()!.id }}</span></p>
          </div>
        </div>
      </div>

      <!-- Main Content Grid -->
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8 mb-6 md:mb-8">
        <!-- Sprite Section -->
        <div class="lg:col-span-1">
          <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-4 md:p-6 md:sticky md:top-8">
            <app-pokemon-sprite [sprites]="pokemon()!.sprites"/>
          </div>
        </div>

        <!-- Info Section -->
        <div class="lg:col-span-2 space-y-6">
          <!-- Physical Status -->
          <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-4 md:p-6">
            <app-pokemon-physical-status [pokemon]="pokemon()" />
          </div>

          <!-- Types -->
          <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-4 md:p-6">
            <app-pokemon-types-group [pokemon]="pokemon()"/>
          </div>
        </div>
      </div>

      <!-- Stats Section -->
      <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-4 md:p-6 mb-6 md:mb-8">
        <h2 class="text-lg md:text-2xl font-bold text-white mb-4 md:mb-6">Stats</h2>
        <app-pokemon-status-bar-group [pokemon]="pokemon()"/>
      </div>

      <!-- Abilities Section -->
      <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-4 md:p-6 mb-6 md:mb-8">
        <h2 class="text-lg md:text-2xl font-bold text-white mb-4 md:mb-6">Abilities</h2>
        <app-pokemon-abilities [pokemonAbilities]="pokemon()!.abilities"/>
      </div>

      <!-- Damage Relations Section -->
      <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-4 md:p-6 mb-6 md:mb-12">
        <h2 class="text-lg md:text-2xl font-bold text-white mb-4 md:mb-6">Type Effectiveness</h2>
        <app-pokemon-damage-relations [pokemon]="pokemon()"/>
      </div>

      <!-- Evolution Chain Section -->
      <app-pokemon-evolution-list 
        [evolutionChainPokemon]="evolutionChainPokemon()"
        [currentPokemonName]="pokemon()!.name"
        [evolutionLoading]="evolutionLoading()"
        (navigateToPokemon)="navigateToPokemon($event)"
      />

      
      <!-- Encounters Section -->
      <app-pokemon-encounter-list 
        [encounters]="encounters()"
        [encounterLoading]="encounterLoading()"
        [getEnglishLocationName]="getEnglishLocationName.bind(this)"
        [getEncounterVersions]="getEncounterVersions.bind(this)"
      />
    </div>
  }
</div>
